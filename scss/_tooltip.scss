/*
 * Copyright (c) 2013-2015 Mark C. Prins <mprins@users.sf.net>
 *
 * Permission to use, copy, modify, and distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 */

/** accesible tooltip, to add to a focusable element containing a span with the tooltip. */

/* show a tooltip offset to above/left */
.olHasTooltip, .olHasTooltip_TL {
    & span {
        position: absolute;
        clip: rect(1px 1px 1px 1px); /* < IE8 */
        clip: rect(1px, 1px, 1px, 1px);
        padding: 0;
        border: 0;
        height: 1px;
        width: 1px;
        overflow: hidden;
        opacity: 0;
        will-change: opacity, clip;

        @include animation-name(fadeIn);
        @include animation-timing-function(ease);
        @include animation-delay(.35s);
        @include animation-duration(5s);
        //@include animation-iteration-count(infinite);
        @include animation-iteration-count(1);
    }

    // http://codepen.io/anon/pen/yyNmML?editors=110
    // http://css-tricks.com/restart-css-animation/
    // http://css-tricks.com/snippets/css/keyframe-animation-syntax/
    &:hover span,
    &:focus span {
        clip: auto;
        padding: 3px;
        height: auto;
        width: auto;
        z-index: $tooltip-z-index;
        max-height: 100px;
        white-space: nowrap;
        display: inline-block;
        background-color: __background_alt__;
        color: __text__;
        border: 1px solid __border__;
        @include border-radius(5px);
        @include box-shadow(2px 2px 2px __border__);
        bottom: 2em;
        right: 0;
        //opacity: 1;
        //@include single-transition(opacity 0.5s ease-in 0.1s);
        @include animation-name(fadeOut);
    }
}

/* show a tooltip offset to below/right */
.olHasTooltip_bttm_r {
    @extend .olHasTooltip;

    &:hover span,
    &:focus span {
        bottom: -2em;
        left: 1em;
        right: auto;
    }
}

/* show a tooltip offset to below/left */
.olHasTooltip_bttm_l {
    @extend .olHasTooltip;

    &:hover span,
    &:focus span {
        bottom: -2em;
    }
}

@include keyframes(fadeIn) {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 0;
    }
}

@include keyframes(fadeOut) {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}
